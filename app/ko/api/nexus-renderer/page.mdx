---
title: NexusRenderer | 렌더링 위임
description: 클라이언트 캐시가 신선할 때 렌더링을 위임하여 TTFB와 서버 작업을 줄입니다.
---

# NexusRenderer로 렌더링 위임

NexusRenderer는 대상 정의(들)에 대해 클라이언트 캐시가 신선하면 서버 렌더링을 생략합니다. TTFB와 서버 비용을 줄입니다.

## 단일 정의

서버 프레젠테이셔널 컴포넌트와 동일 컴포넌트를 'use client' 파일에서 다시 export한 클라이언트 버전을 사용합니다.

```tsx path=null start=null
// components/ProductListUI.tsx (서버 프레젠테이셔널)
import type { Product } from '@/api/productDefinition';
const ProductListUI = ({ data, title }: { data: Product[]; title: string }) => (
  <div>
    <h2>{title}</h2>
    <ul>{data.map(p => <li key={p.id}>{p.name}</li>)}</ul>
  </div>
);
export default ProductListUI;

// components/client-ui/index.ts (클라이언트 재-export)
'use client';
export { default as ProductListUIClient } from '@/components/ProductListUI';

// app/(shop)/page.tsx (서버)
import { NexusRenderer } from 'next-nexus/server';
import { productDefinition } from '@/api/productDefinition';
import ProductListUI from '@/components/ProductListUI';
import { ProductListUIClient } from '@/client-ui';

export default function Page() {
  return (
    <NexusRenderer
      definition={productDefinition.list}
      serverComponent={ProductListUI}
      clientComponent={ProductListUIClient}
      componentProps={{ title: '우리의 제품들!' }}
    />
  );
}
```

판단 기준
- 클라이언트 캐시가 신선하면 서버는 렌더링을 위임하고, 그렇지 않으면 서버가 렌더링/페치 후 하이드레이션합니다.

## 그룹 정의

여러 정의를 함께 전달할 수 있습니다. 하나라도 신선하면 위임하고, 필요 시 만료된 GET 정의는 서버에서 선패치할 수 있습니다.

```tsx path=null start=null
<NexusRenderer
  definitions={{ products: productDefinition.list, stats: statsDefinition.summary }}
  serverComponent={ServerGroup}
  clientComponent={ClientGroup}
  componentProps={{ title: '개요' }}
/>
```

주의사항
- 서버 전용 API를 서브트리에서 직접 사용하지 않아야 합니다.
- 세그먼트 하이드레이션이 활성화되어 있어야 합니다(레이아웃 경계 또는 페이지 HOC).
- 클라이언트 컴포넌트는 'use client' 파일에서 export해야 합니다.

